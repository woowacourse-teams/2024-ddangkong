{"version":3,"file":"components-common-Dropdown-Dropdown-stories.ae1d0aab.iframe.bundle.js","mappings":";;;;;;;;;;;;;;AAoBA;;;;;;;AASA;;;AAKA;;;AAKA;;;AAGA;;;;AAMA;;;;;;;;;AASA;AACA;AACA;;;;;;;;;;;;;AAeA;AACA;;;;;;;AAOA;;ACCA","sources":["webpack://ddangkong-frontend/./src/components/common/Dropdown/Dropdown.styled.ts","webpack://ddangkong-frontend/./src/components/common/Dropdown/Dropdown.tsx"],"sourcesContent":["import { css } from '@emotion/react';\n\nimport { Theme } from '@/styles/Theme';\n\nexport const dropdownLayout = css`\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  width: 16rem;\n  height: 3.6rem;\n  padding: 0.8rem;\n  border: 1px solid black;\n  border-radius: 0.8rem;\n\n  background-color: white;\n\n  cursor: pointer;\n`;\n\nexport const dropdownTextContainer = css`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  user-select: none;\n`;\n\nexport const emptyWrapper = css`\n  width: 1.2rem;\n  height: 1.2rem;\n`;\n\nexport const arrowImage = css`\n  width: 1.2rem;\n  height: 1.2rem;\n`;\n\nexport const dropdownText = css`\n  text-align: center;\n\n  ${Theme.typography.body2}\n\n  user-select: none;\n  cursor: pointer;\n`;\n\nexport const selectOptionList = (isOpen: boolean, count: number) => css`\n  display: flex;\n  overflow: hidden;\n  position: absolute;\n  top: 3.6rem;\n  left: 0;\n  flex-direction: column;\n\n  width: 100%;\n  height: ${isOpen ? `${3.6 * count}rem` : 0};\n  border: ${isOpen ? `1px solid ${Theme.color.gray200}` : 'none'};\n  border-radius: ${Theme.borderRadius.radius10};\n\n  background-color: white;\n\n  color: black;\n\n  list-style: none;\n  transition: height 0.3s;\n  user-select: none;\n`;\n\nexport const optionButton = (isSelected: boolean) => css`\n  width: 100%;\n  height: 3.6rem;\n\n  ${Theme.typography.caption}\n  background-color: ${isSelected ? Theme.color.gray300 : 'white'};\n\n  color: black;\n\n  transition: background-color 0.1s ease-in;\n\n  &:hover {\n    background-color: ${Theme.color.gray200};\n  }\n`;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport {\n  arrowImage,\n  dropdownLayout,\n  dropdownText,\n  dropdownTextContainer,\n  emptyWrapper,\n  optionButton,\n  selectOptionList,\n} from './Dropdown.styled';\n\nimport ArrowDown from '@/assets/images/arrowDown.svg';\nimport ArrowUp from '@/assets/images/arrowUp.svg';\n\ninterface DropdownProps<T> {\n  text: string;\n  optionList: T[];\n  handleClickOption: (e: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nconst Dropdown = <T extends { value: string; label: string }>({\n  text,\n  optionList,\n  handleClickOption,\n}: DropdownProps<T>) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement | null>(null);\n  const triggerRef = useRef<HTMLButtonElement | null>(null);\n\n  const handleToggleDropdown = () => {\n    setIsOpen((prev) => !prev);\n    triggerRef.current?.focus();\n  };\n\n  const handleSelectOption = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    handleClickOption(e);\n    handleToggleDropdown();\n  };\n\n  useEffect(() => {\n    const handleOutsideClose = (e: MouseEvent) => {\n      if (isOpen && dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('click', handleOutsideClose);\n\n    return () => {\n      document.removeEventListener('click', handleOutsideClose);\n    };\n  }, [isOpen]);\n\n  return (\n    <div css={dropdownLayout} ref={dropdownRef}>\n      <button\n        ref={triggerRef}\n        onClick={handleToggleDropdown}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n        aria-controls=\"dropdown-listbox\"\n        aria-label={`카테고리 선택 목록, 현재 선택: ${text || '선택해주세요'}`}\n        css={dropdownTextContainer}\n      >\n        <div css={emptyWrapper}></div>\n        <span css={dropdownText}>{text || '선택해주세요'}</span>\n        <div>\n          <img src={isOpen ? ArrowUp : ArrowDown} alt=\"\" css={arrowImage} />\n        </div>\n      </button>\n\n      {isOpen && (\n        <ul\n          id=\"dropdown-listbox\"\n          role=\"listbox\"\n          aria-labelledby=\"dropdown-button\"\n          css={selectOptionList(isOpen, optionList.length)}\n        >\n          {optionList.map((option) => (\n            <li key={option.value} role=\"option\" aria-selected={text === option.label}>\n              <button\n                css={optionButton(text === option.label)}\n                value={option.value}\n                onClick={handleSelectOption}\n              >\n                {option.label}\n              </button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n"],"names":[],"sourceRoot":""}