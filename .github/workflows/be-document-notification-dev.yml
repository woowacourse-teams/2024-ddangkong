name: BE Document Change Discord Notification for Dev

on:
  workflow_dispatch:

  push:
    branches: [ "develop" ]
    paths:
      - backend/src/docs/asciidoc/**
      - backend/src/test/java/ddangkong/documentation/**

jobs:
  notification:
    timeout-minutes: 1
    runs-on: ubuntu-latest
    steps:
      - name: Discord Webhook Action
        uses: tsickert/discord-webhook@v6.0.0
        with:
          webhook-url: ${{ secrets.ASCIIDOC_NOTIFICATION_WEBHOOK_URL }}
          username: Document Notificator
          content: |
            ================================================
            
            ##  ğŸ“ƒ Dev ì„œë²„ API ë¬¸ì„œì— ë³€ê²½ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤!
            
            â¬†ï¸ [PR ë°”ë¡œê°€ê¸°](${{ github.event.pull_request.html_url }})
            â¬†ï¸ [Docs ë°”ë¡œê°€ê¸°](https://api.dev.ddangkong.kr/docs/index.html)
            
            ================================================
